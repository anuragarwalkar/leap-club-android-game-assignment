{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from \"react\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport { clone, getRandomChar, maxCount } from \"../../constants/memoryDef\";\nimport styles from \"./styles\";\nexport default function App() {\n  var _useState = useState(getRandomChar()),\n      _useState2 = _slicedToArray(_useState, 2),\n      letters = _useState2[0],\n      setLetters = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      matchIndexs = _useState4[0],\n      setMatchedIndexs = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      matchedCount = _useState6[0],\n      setMatchedCount = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      turnsCount = _useState8[0],\n      setTurnsCount = _useState8[1];\n\n  var onClick = function onClick(item, newIndex) {\n    if (!item.matched && matchIndexs.length < 2 && newIndex != matchIndexs[0]) {\n      var newItems = matchIndexs;\n\n      if (matchIndexs.length < maxCount) {\n        newItems = clone(letters);\n        newItems[newIndex].show = !newItems[newIndex].show;\n      }\n\n      if (matchIndexs.length === 1) {\n        var _matchIndexs = _slicedToArray(matchIndexs, 1),\n            oldIndex = _matchIndexs[0];\n\n        if (letters[oldIndex].text === letters[newIndex].text) {\n          newItems = clone(letters);\n          newItems[oldIndex].matched = true;\n          newItems[newIndex].matched = true;\n          setMatchedCount(matchedCount + 1);\n        }\n\n        setTimeout(function () {\n          newItems = clone(letters);\n\n          if (!newItems[oldIndex].matched && !newItems[oldIndex].matched) {\n            newItems[oldIndex].show = false;\n            newItems[newIndex].show = false;\n          }\n\n          setMatchedIndexs([]);\n          setTurnsCount(turnsCount + 1);\n        }, 700);\n      }\n\n      setLetters(newItems);\n      setMatchedIndexs(matchIndexs.concat(newIndex));\n    }\n  };\n\n  var renderItem = function renderItem(item, index) {\n    return React.createElement(TouchableOpacity, {\n      key: item.id,\n      onPress: function onPress() {\n        return onClick(item, index);\n      }\n    }, React.createElement(View, {\n      style: styles.card\n    }, React.createElement(Text, {\n      style: _objectSpread(_objectSpread({}, styles.text), {}, {\n        opacity: item.show ? 1 : 0\n      })\n    }, item.matched ? \"ðŸ¥³\" : item.text)));\n  };\n\n  var gameContainer = function gameContainer() {\n    return React.createElement(View, {\n      style: {\n        display: \"flex\"\n      }\n    }, React.createElement(View, {\n      style: styles.topBarContainer\n    }, React.createElement(View, null, React.createElement(Text, {\n      style: styles.counterHeading\n    }, \"MATCHES\"), React.createElement(Text, {\n      style: styles.counterText\n    }, matchedCount)), React.createElement(View, null, React.createElement(Text, {\n      style: styles.counterHeading\n    }, \"TURNS\"), React.createElement(Text, {\n      style: styles.counterText\n    }, turnsCount))), React.createElement(View, {\n      style: styles.container\n    }, letters.map(renderItem)));\n  };\n\n  var resetGame = function resetGame() {\n    setTurnsCount(0);\n    setMatchedCount(0);\n    setMatchedIndexs([]);\n    setLetters(getRandomChar());\n  };\n\n  return React.createElement(SafeAreaView, null, letters.length === matchedCount * 2 ? React.createElement(View, {\n    style: styles.winnerContainer\n  }, React.createElement(Text, {\n    style: styles.winnerText\n  }, \"\\u2705 You won the game \"), React.createElement(View, {\n    style: {\n      marginTop: 20\n    }\n  }, React.createElement(Button, {\n    onPress: resetGame,\n    title: \"Restart Game\"\n  }))) : gameContainer());\n}","map":{"version":3,"sources":["C:/projects/my_projects/leap.club-android-game-assignment/src/view/app/App.js"],"names":["React","useState","TouchableOpacity","clone","getRandomChar","maxCount","styles","App","letters","setLetters","matchIndexs","setMatchedIndexs","matchedCount","setMatchedCount","turnsCount","setTurnsCount","onClick","item","newIndex","matched","length","newItems","show","oldIndex","text","setTimeout","concat","renderItem","index","id","card","opacity","gameContainer","display","topBarContainer","counterHeading","counterText","container","map","resetGame","winnerContainer","winnerText","marginTop"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button, SafeAreaView, Text, View } from \"react-native\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport { clone, getRandomChar, maxCount } from \"../../constants/memoryDef\";\nimport styles from \"./styles\";\n\nexport default function App() {\n  const [letters, setLetters] = useState(getRandomChar());\n  const [matchIndexs, setMatchedIndexs] = useState([]);\n  const [matchedCount, setMatchedCount] = useState(0);\n  const [turnsCount, setTurnsCount] = useState(0);\n\n  const onClick = (item, newIndex) => {\n    if (!item.matched && matchIndexs.length < 2 && newIndex != matchIndexs[0]) {\n      let newItems = matchIndexs;\n      if (matchIndexs.length < maxCount) {\n        newItems = clone(letters);\n        newItems[newIndex].show = !newItems[newIndex].show;\n      }\n\n      if (matchIndexs.length === 1) {\n        const [oldIndex] = matchIndexs;\n        if (letters[oldIndex].text === letters[newIndex].text) {\n          newItems = clone(letters);\n          newItems[oldIndex].matched = true;\n          newItems[newIndex].matched = true;\n          setMatchedCount(matchedCount + 1);\n        }\n        setTimeout(() => {\n          newItems = clone(letters);\n          if (!newItems[oldIndex].matched && !newItems[oldIndex].matched) {\n            newItems[oldIndex].show = false;\n            newItems[newIndex].show = false;\n          }\n\n          setMatchedIndexs([]);\n          setTurnsCount(turnsCount + 1);\n        }, 700);\n      }\n\n      setLetters(newItems);\n\n      setMatchedIndexs(matchIndexs.concat(newIndex));\n    }\n  };\n\n  const renderItem = (item, index) => {\n    return (\n      <TouchableOpacity key={item.id} onPress={() => onClick(item, index)}>\n        <View style={styles.card}>\n          <Text style={{ ...styles.text, opacity: item.show ? 1 : 0 }}>\n            {item.matched ? \"ðŸ¥³\" : item.text}\n          </Text>\n        </View>\n      </TouchableOpacity>\n    );\n  };\n\n  const gameContainer = () => {\n    return (\n      <View style={{ display: \"flex\" }}>\n        <View style={styles.topBarContainer}>\n          <View>\n            <Text style={styles.counterHeading}>MATCHES</Text>\n            <Text style={styles.counterText}>{matchedCount}</Text>\n          </View>\n          <View>\n            <Text style={styles.counterHeading}>TURNS</Text>\n            <Text style={styles.counterText}>{turnsCount}</Text>\n          </View>\n        </View>\n        <View style={styles.container}>{letters.map(renderItem)}</View>\n      </View>\n    );\n  };\n\n  const resetGame = () => {\n    setTurnsCount(0);\n    setMatchedCount(0);\n    setMatchedIndexs([]);\n    setLetters(getRandomChar());\n  };\n\n  return (\n    <SafeAreaView>\n      {letters.length === matchedCount * 2 ? (\n        <View style={styles.winnerContainer}>\n          <Text style={styles.winnerText}>âœ… You won the game </Text>\n          <View style={{ marginTop: 20 }}>\n            <Button onPress={resetGame} title=\"Restart Game\" />\n          </View>\n        </View>\n      ) : (\n        gameContainer()\n      )}\n    </SafeAreaView>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}